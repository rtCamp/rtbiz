!function(e){e.redux_welcome=e.redux_welcome||{},e(document).ready(function(){e.redux_welcome.initQtip(),e(document.getElementById("support_div")).is(":visible")&&e.redux_welcome.initSupportPage(),e.redux_welcome.supportHash()}),e.redux_welcome.supportHash=function(){e("#support_hash").on("focus",function(){var t=e(this);t.trigger("select"),t.on("mouseup",function(){return t.off("mouseup"),!1})}),e(".redux_support_hash").on("click",function(t){var i,s=e(this);s.hasClass("disabled")||(i=e("#redux_support_nonce").val(),s.addClass("disabled"),s.parent().append('<span class="spinner" style="display:block;float: none;margin: 10px auto;"></span>'),s.closest(".spinner").fadeIn(),window.console||(window.console={}),e.ajax({type:"post",dataType:"json",url:window.ajaxurl,data:{action:"redux_support_hash",nonce:i},error:function(e){console.log(e),s.removeClass("disabled"),s.parent().find(".spinner").remove(),alert("There was an error. Please try again later.")},success:function(t){"success"===t.status?(e("#support_hash").val("https://support.redux.io/?id="+t.identifier),s.parents("fieldset:first").find(".next").prop("disabled",!1).trigger("click")):(window.console.log(t),alert("There was an error. Please try again later."))}}),t.preventDefault())})},e.redux_welcome.initSupportPage=function(){var t,i,s,n,o,r,a;function c(){var t=0;e(document).find("#support_div fieldset").each(function(){var i=e(this).actualHeight();t<i&&(t=i)}),e("#support_div").height(t+20)}e.fn.actualHeight=function(){var e,t=this.closest(":visible").children();return t.addClass("temp-show"),e=this.height(),t.removeClass("temp-show"),e},c(),e(window).on("resize",function(){c()}),e("#is_user").on("click",function(){e("#final_support .is_user").show(),e("#final_support .is_developer").hide(),e(this).parents("fieldset:first").find(".next").trigger("click")}),e("#is_developer").on("click",function(){e("#final_support .is_user").hide(),e("#final_support .is_developer").show(),e(this).parents("fieldset:first").find(".next").trigger("click")}),e("#support_div .next").on("click",function(){if(a)return!1;a=!0,t=e(this).parent(),i=e(this).parent().next(),e("#progressbar li").eq(e("fieldset").index(i)).addClass("active"),i.show(),t.animate({opacity:0},{step:function(e){r=1-.2*(1-e),n=50*e+"%",o=1-e,t.css({transform:"scale("+r+")"}),i.css({left:n,opacity:o})},duration:800,complete:function(){t.hide(),a=!1},easing:"easeInOutBack"})}),e("#support_div .previous").on("click",function(){if(a)return!1;a=!0,t=e(this).parent(),s=e(this).parent().prev(),e("#progressbar li").eq(e("fieldset").index(t)).removeClass("active"),s.show(),t.animate({opacity:0},{step:function(e){r=.8+.2*(1-e),n=50*(1-e)+"%",o=1-e,t.css({left:n}),s.css({transform:"scale("+r+")",opacity:o})},duration:800,complete:function(){t.hide(),a=!1},easing:"easeInOutBack"})})},e.redux_welcome.initQtip=function(){var t="qtip-shadow,qtip-dark,,";e().qtip&&(t=t.replace(/,/g," "),e(".redux-hint-qtip").each(function(){e(this).qtip({content:{text:e(this).attr("qtip-content"),title:e(this).attr("qtip-title")},show:{effect:function(){e(this).slideDown("300")},event:"mouseenter"},hide:{effect:function(){e(this).slideUp("300")},event:"click mouseleave"},style:{classes:t},position:{my:"top center",at:"bottom center"}})}))}}(jQuery);
